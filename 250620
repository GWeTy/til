<< í•µì‹¬í”„ë¡œì íŠ¸ 8ì¼ì°¨ >>

1. íƒœê·¸ê°€ ì„ íƒë˜ì§€ ì•Šì•˜ì„ ë•Œ, error íŒì—… ë„ìš°ê¸°
=> ë¹„ë™ê¸°í†µì‹  / í”„ë¡ íŠ¸ì—ì„œ êµ¬í˜„

2. ì´ë©”ì¼ ì°¾ê¸° í˜ì´ì§€ êµ¬í˜„ (ë‹‰ë„¤ì„, ìƒë…„ì›”ì¼ ì •ë³´ ì…ë ¥ ë°›ê¸°)

3. ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • í˜ì´ì§€ êµ¬í˜„ ë° ë°±ì—”ë“œ ì—°ë™ (ì´ë©”ì¼, ìƒë…„ì›”ì¼ ì •ë³´ ì…ë ¥ ë°›ê¸°)

=====================================================================================
4. íšŒì›ê°€ì… ì‹œ, ì´ë©”ì¼&ë‹‰ë„¤ì„ ì¤‘ë³µ í™•ì¸ ê¸°ëŠ¥ ë°±ì—”ë“œì— êµ¬í˜„ (Controller, Repository ìƒì„±)
-------------------------------------------------------------------------------------
âœ… [ RegisterController ]

package com.smhrd.gitest.controller;

import java.util.Collections;
import java.util.Map;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;

import com.smhrd.gitest.repository.MemberRepository;

@Controller
@RestController
@RequestMapping("/api")
public class RegisterControlloer {
	@Autowired
    private MemberRepository memberRepository;

    @GetMapping("/check-email")
    public Map<String, Boolean> checkEmail(@RequestParam String value) {
        boolean exists = memberRepository.existsByEmail(value);
        return Collections.singletonMap("duplicate", exists);
    }

    @GetMapping("/check-nickname")
    public Map<String, Boolean> checkNickname(@RequestParam String value) {
        boolean exists = memberRepository.existsByNickname(value);
        return Collections.singletonMap("duplicate", exists);
    }
}
-------------------------------------------------------------------------------------
âœ… [ RegisterRepository ]

package com.smhrd.gitest.repository;

import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.stereotype.Repository;

import com.smhrd.gitest.entity.MemberEntity;

@Repository
public interface RegisterRepository extends JpaRepository<MemberEntity, Long>{
	boolean existsByEmail(String email);
    boolean existsByNickname(String nickname);
}
-------------------------------------------------------------------------------------

=====================================================================================
5. íšŒì›ê°€ì… ì‹œ, PW & Repeat-PW ì¼ì¹˜ í™•ì¸ ê¸°ëŠ¥ êµ¬í˜„
=> ìˆœìˆ˜ í”„ë¡ íŠ¸ì—”ë“œ ìœ íš¨ì„± ê²€ì‚¬ ë¡œì§
-------------------------------------------------------------------------------------
ğŸ” ë¼ì¸ë³„ ìƒì„¸ ì„¤ëª… (jsì„. spring bootë¡œ ë„£ì„ ë• ë³€í™˜ í•„ìš”í•¨)
function validateForm() { // validateFormì´ë¼ëŠ” ì´ë¦„ì˜ í•¨ìˆ˜ë¥¼ ì„ ì–¸,
                          // ì´ í•¨ìˆ˜ëŠ” <form onsubmit="return validateForm();">ì™€ ì—°ê²°ë˜ì–´ íšŒì›ê°€ì… ë²„íŠ¼ í´ë¦­ ì‹œ ì‹¤í–‰ë¨.
  const pw = document.getElementById("password").value;
  // id="password"ì¸ <input> ìš”ì†Œë¥¼ DOMì—ì„œ ì°¾ê³ , ê·¸ ì•ˆì— ì‚¬ìš©ìê°€ ì…ë ¥í•œ ê°’ì„ ê°€ì ¸ì˜´.
  // ì¦‰, ì‚¬ìš©ìê°€ ì‘ì„±í•œ ì²« ë²ˆì§¸ ë¹„ë°€ë²ˆí˜¸ì„.
  // .valueëŠ” ì…ë ¥ í•„ë“œì˜ ê°’ì„ ì˜ë¯¸.
  const pwConfirm = document.getElementById("repeat-password").value;
  // id="repeat-password"ì¸ <input> ìš”ì†Œì—ì„œ ì‚¬ìš©ìê°€ ì…ë ¥í•œ ê°’ì„ ê°€ì ¸ì˜´.
  // ì´ëŠ” ë¹„ë°€ë²ˆí˜¸ í™•ì¸ ì…ë ¥ê°’.
  // ìœ„ì˜ pwì™€ ë™ì¼í•œì§€ ë¹„êµí•˜ê¸° ìœ„í•´ ì‚¬ìš©.

  if (pw !== pwConfirm) { // ì…ë ¥í•œ ë‘ ë¹„ë°€ë²ˆí˜¸ê°€ ì„œë¡œ ë‹¤ë¥´ë©´ ì¡°ê±´ì´ ì°¸ì´ ë©
    alert("ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
    return false; // falseë¥¼ ë°˜í™˜í•˜ë©´, <form onsubmit="return validateForm();">ì—ì„œ form ì œì¶œì´ ì¤‘ë‹¨ë¨.
                  // ì¦‰, ì„œë²„ë¡œ ì „ì†¡ë˜ì§€ ì•Šë„ë¡ ë§‰ìŒ.
  }
  return true; // ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ëŠ” ê²½ìš° ì‹¤í–‰.
               // ì¦‰, ì„œë²„ë¡œ form ë°ì´í„°ê°€ ì „ì†¡ë¨.
}
-------------------------------------------------------------------------------------
=> ë¹„ë°€ë²ˆí˜¸ ê²€ì¦ìš© í´ë¼ì´ì–¸íŠ¸ ìœ íš¨ì„± ê²€ì‚¬ í•¨ìˆ˜ì„.
=> ì‚¬ìš©ìê°€ ì‹¤ìˆ˜ë¡œ ì˜ëª»ëœ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ê³ , ì„œë²„ë¡œ ë¶ˆí•„ìš”í•œ ìš”ì²­ì„ ë³´ë‚´ì§€ ì•Šë„ë¡ í”„ë¡ íŠ¸ë‹¨ì—ì„œ ì‚¬ì „ ì°¨ë‹¨í•¨.
-------------------------------------------------------------------------------------
ğŸ’¡ ì¶”ê°€ í™•ì¥ ì•„ì´ë””ì–´ (js) => ì‚¬ìš©ìì˜ ë¹„ë°€ë²ˆí˜¸ ë³´ì•ˆ ìˆ˜ì¤€ì„ ë†’ì¼ ìˆ˜ ìˆìŒ.

if (pw.length < 8) {
  alert("ë¹„ë°€ë²ˆí˜¸ëŠ” 8ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.");
  return false;
}

if (!/[0-9]/.test(pw) || !/[!@#$%^&*]/.test(pw)) {
  alert("ë¹„ë°€ë²ˆí˜¸ì—ëŠ” ìˆ«ìì™€ íŠ¹ìˆ˜ë¬¸ìê°€ í¬í•¨ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.");
  return false;
}
-------------------------------------------------------------------------------------
